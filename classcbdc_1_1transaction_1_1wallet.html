<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCBDC Transaction Processor: cbdc::transaction::wallet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenCBDC Transaction Processor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcbdc_1_1transaction_1_1wallet.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">cbdc::transaction::wallet Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Cryptographic wallet for digital currency assets and secrets.  
 <a href="classcbdc_1_1transaction_1_1wallet.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="wallet_8hpp_source.html">wallet.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb445b51bc7a03e7d2655dd50e999466"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#aeb445b51bc7a03e7d2655dd50e999466">wallet</a> ()</td></tr>
<tr class="memdesc:aeb445b51bc7a03e7d2655dd50e999466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classcbdc_1_1transaction_1_1wallet.html#aeb445b51bc7a03e7d2655dd50e999466">More...</a><br /></td></tr>
<tr class="separator:aeb445b51bc7a03e7d2655dd50e999466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74707315568d160c2130d74183b35c4b"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a74707315568d160c2130d74183b35c4b">mint_new_coins</a> (size_t n_outputs, uint32_t output_val) -&gt; <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a></td></tr>
<tr class="memdesc:a74707315568d160c2130d74183b35c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mints new spendable outputs.  <a href="classcbdc_1_1transaction_1_1wallet.html#a74707315568d160c2130d74183b35c4b">More...</a><br /></td></tr>
<tr class="separator:a74707315568d160c2130d74183b35c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c43b25624220a3fb7b53fed3cb25317"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a9c43b25624220a3fb7b53fed3cb25317">send_to</a> (uint32_t amount, const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;payee, bool sign_tx) -&gt; std::optional&lt; <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &gt;</td></tr>
<tr class="memdesc:a9c43b25624220a3fb7b53fed3cb25317"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a new send transaction with a set value.  <a href="classcbdc_1_1transaction_1_1wallet.html#a9c43b25624220a3fb7b53fed3cb25317">More...</a><br /></td></tr>
<tr class="separator:a9c43b25624220a3fb7b53fed3cb25317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469f625da2c550b4742d951905d7838e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a469f625da2c550b4742d951905d7838e">send_to</a> (size_t input_count, size_t output_count, const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;payee, bool sign_tx) -&gt; std::optional&lt; <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &gt;</td></tr>
<tr class="memdesc:a469f625da2c550b4742d951905d7838e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a new send transaction with the specified number of inputs and outputs.  <a href="classcbdc_1_1transaction_1_1wallet.html#a469f625da2c550b4742d951905d7838e">More...</a><br /></td></tr>
<tr class="separator:a469f625da2c550b4742d951905d7838e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2549676db34c147021cde3a13a4ddc5"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#ad2549676db34c147021cde3a13a4ddc5">fan</a> (size_t output_count, uint32_t value, const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;payee, bool sign_tx) -&gt; std::optional&lt; <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">transaction::full_tx</a> &gt;</td></tr>
<tr class="memdesc:ad2549676db34c147021cde3a13a4ddc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a transaction sending multiple outputs of a set value.  <a href="classcbdc_1_1transaction_1_1wallet.html#ad2549676db34c147021cde3a13a4ddc5">More...</a><br /></td></tr>
<tr class="separator:ad2549676db34c147021cde3a13a4ddc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c096fb144c2f1e34a1ec876099ca26"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a21c096fb144c2f1e34a1ec876099ca26">generate_key</a> () -&gt; <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a></td></tr>
<tr class="memdesc:a21c096fb144c2f1e34a1ec876099ca26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a new public key at which this wallet can receive payments via <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a9c43b25624220a3fb7b53fed3cb25317">send_to</a>.  <a href="classcbdc_1_1transaction_1_1wallet.html#a21c096fb144c2f1e34a1ec876099ca26">More...</a><br /></td></tr>
<tr class="separator:a21c096fb144c2f1e34a1ec876099ca26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeee389cb2c0204200931f98855dbf5b"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#adeee389cb2c0204200931f98855dbf5b">seed</a> (const <a class="el" href="namespacecbdc.html#abdcd7322be69889171bcca4197e3e9e1">privkey_t</a> &amp;privkey, uint32_t value, size_t begin_seed, size_t end_seed) -&gt; bool</td></tr>
<tr class="memdesc:adeee389cb2c0204200931f98855dbf5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the wallet as having pre-seeded outputs to spend.  <a href="classcbdc_1_1transaction_1_1wallet.html#adeee389cb2c0204200931f98855dbf5b">More...</a><br /></td></tr>
<tr class="separator:adeee389cb2c0204200931f98855dbf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3cd37aaac3c62c8f371335a46fa56e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a1c3cd37aaac3c62c8f371335a46fa56e">seed_readonly</a> (const <a class="el" href="namespacecbdc.html#ae259dc3000a4487dd87a2ee9662ba73e">hash_t</a> &amp;witness_commitment, uint32_t value, size_t begin_seed, size_t end_seed)</td></tr>
<tr class="memdesc:a1c3cd37aaac3c62c8f371335a46fa56e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the wallet as having read-only pre-seeded outputs to spend.  <a href="classcbdc_1_1transaction_1_1wallet.html#a1c3cd37aaac3c62c8f371335a46fa56e">More...</a><br /></td></tr>
<tr class="separator:a1c3cd37aaac3c62c8f371335a46fa56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd7c8c9775b617a67f411c79852fe91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a5cd7c8c9775b617a67f411c79852fe91">confirm_transaction</a> (const <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &amp;tx)</td></tr>
<tr class="memdesc:a5cd7c8c9775b617a67f411c79852fe91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirms a transaction.  <a href="classcbdc_1_1transaction_1_1wallet.html#a5cd7c8c9775b617a67f411c79852fe91">More...</a><br /></td></tr>
<tr class="separator:a5cd7c8c9775b617a67f411c79852fe91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75ad269110e2b216c9e834d1dcd4da4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#aa75ad269110e2b216c9e834d1dcd4da4">sign</a> (<a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &amp;tx) const</td></tr>
<tr class="memdesc:aa75ad269110e2b216c9e834d1dcd4da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signs each of the transaction's inputs using Schnorr signatures.  <a href="classcbdc_1_1transaction_1_1wallet.html#aa75ad269110e2b216c9e834d1dcd4da4">More...</a><br /></td></tr>
<tr class="separator:aa75ad269110e2b216c9e834d1dcd4da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb0ef1e1a41f66249cd91ddc33d5c4e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#aeeb0ef1e1a41f66249cd91ddc33d5c4e">balance</a> () const -&gt; uint64_t</td></tr>
<tr class="memdesc:aeeb0ef1e1a41f66249cd91ddc33d5c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total balance of the wallet, e.g.  <a href="classcbdc_1_1transaction_1_1wallet.html#aeeb0ef1e1a41f66249cd91ddc33d5c4e">More...</a><br /></td></tr>
<tr class="separator:aeeb0ef1e1a41f66249cd91ddc33d5c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d716a2522b39b6392d5fe9500425dab"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a7d716a2522b39b6392d5fe9500425dab">count</a> () const -&gt; size_t</td></tr>
<tr class="memdesc:a7d716a2522b39b6392d5fe9500425dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of UTXOs stored in this wallet.  <a href="classcbdc_1_1transaction_1_1wallet.html#a7d716a2522b39b6392d5fe9500425dab">More...</a><br /></td></tr>
<tr class="separator:a7d716a2522b39b6392d5fe9500425dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14dad71bfe40f9213c82e8e1d30d1cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#ab14dad71bfe40f9213c82e8e1d30d1cb">save</a> (const std::string &amp;wallet_file) const</td></tr>
<tr class="memdesc:ab14dad71bfe40f9213c82e8e1d30d1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the state of the wallet to a binary data file.  <a href="classcbdc_1_1transaction_1_1wallet.html#ab14dad71bfe40f9213c82e8e1d30d1cb">More...</a><br /></td></tr>
<tr class="separator:ab14dad71bfe40f9213c82e8e1d30d1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1829663335873671ccc1945e6ff7a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a2d1829663335873671ccc1945e6ff7a4">load</a> (const std::string &amp;wallet_file)</td></tr>
<tr class="memdesc:a2d1829663335873671ccc1945e6ff7a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites the current state of the wallet with data loaded from a file saved via the Wallet::save function.  <a href="classcbdc_1_1transaction_1_1wallet.html#a2d1829663335873671ccc1945e6ff7a4">More...</a><br /></td></tr>
<tr class="separator:a2d1829663335873671ccc1945e6ff7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20137fcd296cf677a4bc0b7d62dbaeb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#ac20137fcd296cf677a4bc0b7d62dbaeb">create_seeded_transaction</a> (size_t seed_idx) -&gt; std::optional&lt; <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &gt;</td></tr>
<tr class="memdesc:ac20137fcd296cf677a4bc0b7d62dbaeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new transaction from seeded outputs.  <a href="classcbdc_1_1transaction_1_1wallet.html#ac20137fcd296cf677a4bc0b7d62dbaeb">More...</a><br /></td></tr>
<tr class="separator:ac20137fcd296cf677a4bc0b7d62dbaeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18287c9dd06a34ded91f0912c334e4ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a18287c9dd06a34ded91f0912c334e4ee">confirm_inputs</a> (const std::vector&lt; <a class="el" href="structcbdc_1_1transaction_1_1input.html">input</a> &gt; &amp;credits)</td></tr>
<tr class="memdesc:a18287c9dd06a34ded91f0912c334e4ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of credit inputs, add the UTXOs and update the wallet's balance.  <a href="classcbdc_1_1transaction_1_1wallet.html#a18287c9dd06a34ded91f0912c334e4ee">More...</a><br /></td></tr>
<tr class="separator:a18287c9dd06a34ded91f0912c334e4ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7e3e385aa81e513f3010869375cb8942"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a7e3e385aa81e513f3010869375cb8942">export_send_inputs</a> (const <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &amp;send_tx, const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;payee) -&gt; std::vector&lt; <a class="el" href="structcbdc_1_1transaction_1_1input.html">input</a> &gt;</td></tr>
<tr class="memdesc:a7e3e385aa81e513f3010869375cb8942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts the transaction data that recipients need from senders to confirm pending transfers.  <a href="classcbdc_1_1transaction_1_1wallet.html#a7e3e385aa81e513f3010869375cb8942">More...</a><br /></td></tr>
<tr class="separator:a7e3e385aa81e513f3010869375cb8942"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Cryptographic wallet for digital currency assets and secrets. </p>
<p >Stores unspent transaction outputs (UTXOs), and public/private key pairs for Pay-to-Public-Key transaction attestations. </p>

<p class="definition">Definition at line <a class="el" href="wallet_8hpp_source.html#l00032">32</a> of file <a class="el" href="wallet_8hpp_source.html">wallet.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeb445b51bc7a03e7d2655dd50e999466" name="aeb445b51bc7a03e7d2655dd50e999466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb445b51bc7a03e7d2655dd50e999466">&#9670;&nbsp;</a></span>wallet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cbdc::transaction::wallet::wallet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p >Initializes the randomization engine for key shuffling. </p>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00017">17</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="wallet_8cpp_source.html#l00236">seed()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_aeb445b51bc7a03e7d2655dd50e999466_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_aeb445b51bc7a03e7d2655dd50e999466_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_aeb445b51bc7a03e7d2655dd50e999466_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_aeb445b51bc7a03e7d2655dd50e999466_cgraph">
<area shape="rect" title="Constructor." alt="" coords="5,57,132,98"/>
<area shape="rect" href="classcbdc_1_1transaction_1_1wallet.html#adeee389cb2c0204200931f98855dbf5b" title="Marks the wallet as having pre&#45;seeded outputs to spend." alt="" coords="180,57,307,98"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="367,16,521,72"/>
<area shape="rect" href="namespacecbdc.html#aef77ae84c0c1123602cdfad838489b50" title="Generates a public key from the specified private key." alt="" coords="355,96,533,123"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="581,5,697,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="584,56,695,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aeeb0ef1e1a41f66249cd91ddc33d5c4e" name="aeeb0ef1e1a41f66249cd91ddc33d5c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb0ef1e1a41f66249cd91ddc33d5c4e">&#9670;&nbsp;</a></span>balance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::balance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; uint64_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total balance of the wallet, e.g. </p>
<p >the sum total value of all the UTXOs this wallet contains. </p><dl class="section return"><dt>Returns</dt><dd>the wallet balance in the base unit of the currency. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00288">288</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="a18287c9dd06a34ded91f0912c334e4ee" name="a18287c9dd06a34ded91f0912c334e4ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18287c9dd06a34ded91f0912c334e4ee">&#9670;&nbsp;</a></span>confirm_inputs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::transaction::wallet::confirm_inputs </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structcbdc_1_1transaction_1_1input.html">input</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>credits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a set of credit inputs, add the UTXOs and update the wallet's balance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">credits</td><td>the inputs to add to the wallet's set of UTXOs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00449">449</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="a5cd7c8c9775b617a67f411c79852fe91" name="a5cd7c8c9775b617a67f411c79852fe91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd7c8c9775b617a67f411c79852fe91">&#9670;&nbsp;</a></span>confirm_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::transaction::wallet::confirm_transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &amp;&#160;</td>
          <td class="paramname"><em>tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirms a transaction. </p>
<ol type="1">
<li>Adds new outputs. Adds to the total balance of this wallet the balance of each of the transaction's outputs with a witness program commitment matching one of this wallet's witness programs. Converts those outputs to inputs, and stores them in the wallet as spendable UTXOs.</li>
<li>Subtracts the spent outputs. Subtracts the balance for each of the transaction's inputs that are UTXOs stored in this wallet, and drops those UTXOs from the wallet. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx</td><td>the transaction to confirm. </td></tr>
  </table>
  </dd>
</dl>
</li>
</ol>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00271">271</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="transaction_8cpp_source.html#l00083">cbdc::transaction::input_from_output()</a>, <a class="el" href="transaction_8hpp_source.html#l00094">cbdc::transaction::full_tx::m_inputs</a>, <a class="el" href="transaction_8hpp_source.html#l00097">cbdc::transaction::full_tx::m_outputs</a>, and <a class="el" href="transaction_8cpp_source.html#l00068">cbdc::transaction::tx_id()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_a5cd7c8c9775b617a67f411c79852fe91_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_a5cd7c8c9775b617a67f411c79852fe91_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_a5cd7c8c9775b617a67f411c79852fe91_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_a5cd7c8c9775b617a67f411c79852fe91_cgraph">
<area shape="rect" title="Confirms a transaction." alt="" coords="5,39,180,80"/>
<area shape="rect" href="namespacecbdc_1_1transaction.html#a565b4f45e6f928ae432420f675fd3860" title="Converts the output at the specified index to an input." alt="" coords="228,5,355,47"/>
<area shape="rect" href="namespacecbdc_1_1transaction.html#a43a4b189920471ef5363e91bc908a892" title="Calculates the unique hash of a full transaction." alt="" coords="228,71,355,112"/>
<area shape="rect" href="namespacecbdc.html#aed9c6313b2ae6e3d7f01340ab5a3076b" title="Serialize object into nuraft::buffer using a cbdc::nuraft_serializer." alt="" coords="403,78,529,105"/>
<area shape="rect" href="namespacecbdc.html#a4dd685b58c8cf66f4489ab808915ab85" title="Calculates the serialized size in bytes of the given object when serialized using serializer." alt="" coords="577,78,717,105"/>
</map>
</div>

</div>
</div>
<a id="a7d716a2522b39b6392d5fe9500425dab" name="a7d716a2522b39b6392d5fe9500425dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d716a2522b39b6392d5fe9500425dab">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; size_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of UTXOs stored in this wallet. </p>
<dl class="section return"><dt>Returns</dt><dd>number of UTXOs. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00298">298</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="ac20137fcd296cf677a4bc0b7d62dbaeb" name="ac20137fcd296cf677a4bc0b7d62dbaeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20137fcd296cf677a4bc0b7d62dbaeb">&#9670;&nbsp;</a></span>create_seeded_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::create_seeded_transaction </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>seed_idx</em></td><td>)</td>
          <td> -&gt; std::optional&lt;<a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new transaction from seeded outputs. </p>
<p >Creates a new transaction that receives a spendable input from the seed set based on the parameters passed in a preceding call to the <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#adeee389cb2c0204200931f98855dbf5b">seed</a> function. Used from the shard-seeder tool to consolidate this logic in one place. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seed_idx</td><td>the index in the seed set for which to generate the transaction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the generated transaction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00082">82</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="transaction_8hpp_source.html#l00094">cbdc::transaction::full_tx::m_inputs</a>, and <a class="el" href="transaction_8hpp_source.html#l00097">cbdc::transaction::full_tx::m_outputs</a>.</p>

</div>
</div>
<a id="a7e3e385aa81e513f3010869375cb8942" name="a7e3e385aa81e513f3010869375cb8942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e3e385aa81e513f3010869375cb8942">&#9670;&nbsp;</a></span>export_send_inputs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::export_send_inputs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a> &amp;&#160;</td>
          <td class="paramname"><em>send_tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;&#160;</td>
          <td class="paramname"><em>payee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; std::vector&lt;<a class="el" href="structcbdc_1_1transaction_1_1input.html">input</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts the transaction data that recipients need from senders to confirm pending transfers. </p>
<p >Returns the output of the send transaction intended for the target recipient, converted to an input. Senders transmit this data to recipients so that they can confirm the transaction on their end and spend the outputs. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">send_tx</td><td>the send transaction generated by this wallet's <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a9c43b25624220a3fb7b53fed3cb25317">send_to</a> function. </td></tr>
    <tr><td class="paramname">payee</td><td>the destination address of the transfer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>inputs to transmit to the send transaction recipient, or empty vector if there is no transaction output with the corresponding payee information. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00109">109</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00297">cbdc::transaction::validation::get_p2pk_witness_commitment()</a>, and <a class="el" href="transaction_8cpp_source.html#l00083">cbdc::transaction::input_from_output()</a>.</p>

<p class="reference">Referenced by <a class="el" href="client_2client_8cpp_source.html#l00161">cbdc::client::export_send_inputs()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_a7e3e385aa81e513f3010869375cb8942_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_a7e3e385aa81e513f3010869375cb8942_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_a7e3e385aa81e513f3010869375cb8942_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_a7e3e385aa81e513f3010869375cb8942_cgraph">
<area shape="rect" title="Extracts the transaction data that recipients need from senders to confirm pending transfers." alt="" coords="5,52,137,108"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="185,16,339,72"/>
<area shape="rect" href="namespacecbdc_1_1transaction.html#a565b4f45e6f928ae432420f675fd3860" title="Converts the output at the specified index to an input." alt="" coords="199,95,325,137"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="387,5,503,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="389,56,500,83"/>
</map>
</div>

</div>
</div>
<a id="ad2549676db34c147021cde3a13a4ddc5" name="ad2549676db34c147021cde3a13a4ddc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2549676db34c147021cde3a13a4ddc5">&#9670;&nbsp;</a></span>fan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::fan </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>output_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;&#160;</td>
          <td class="paramname"><em>payee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sign_tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; std::optional&lt;<a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">transaction::full_tx</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a transaction sending multiple outputs of a set value. </p>
<p >Generates a transaction to transfer a specified number of outputs with a fixed amount from this wallet to a recipient's target address. Returns the transaction for wallet clients to submit to the processing system and syndicate to recipients. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output_count</td><td>number of outputs to send to the recipient. </td></tr>
    <tr><td class="paramname">value</td><td>the amount to send per outputs in the base unit of the currency. </td></tr>
    <tr><td class="paramname">payee</td><td>the destination address of the transfer. </td></tr>
    <tr><td class="paramname">sign_tx</td><td>true if the wallet should sign this transaction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completed transaction. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a7e3e385aa81e513f3010869375cb8942">export_send_inputs</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00454">454</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="a21c096fb144c2f1e34a1ec876099ca26" name="a21c096fb144c2f1e34a1ec876099ca26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c096fb144c2f1e34a1ec876099ca26">&#9670;&nbsp;</a></span>generate_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::generate_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a new public key at which this wallet can receive payments via <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a9c43b25624220a3fb7b53fed3cb25317">send_to</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>a new public key. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00124">124</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00297">cbdc::transaction::validation::get_p2pk_witness_commitment()</a>, and <a class="el" href="keys_8cpp_source.html#l00012">cbdc::pubkey_from_privkey()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_a21c096fb144c2f1e34a1ec876099ca26_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_a21c096fb144c2f1e34a1ec876099ca26_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_a21c096fb144c2f1e34a1ec876099ca26_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_a21c096fb144c2f1e34a1ec876099ca26_cgraph">
<area shape="rect" title="Generates a new public key at which this wallet can receive payments via send_to." alt="" coords="5,57,144,98"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="205,16,358,72"/>
<area shape="rect" href="namespacecbdc.html#aef77ae84c0c1123602cdfad838489b50" title="Generates a public key from the specified private key." alt="" coords="192,96,371,123"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="419,5,535,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="421,56,532,83"/>
</map>
</div>

</div>
</div>
<a id="a2d1829663335873671ccc1945e6ff7a4" name="a2d1829663335873671ccc1945e6ff7a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1829663335873671ccc1945e6ff7a4">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::transaction::wallet::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>wallet_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrites the current state of the wallet with data loaded from a file saved via the Wallet::save function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wallet_file</td><td>path to wallet file location. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00329">329</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00297">cbdc::transaction::validation::get_p2pk_witness_commitment()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_a2d1829663335873671ccc1945e6ff7a4_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_a2d1829663335873671ccc1945e6ff7a4_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_a2d1829663335873671ccc1945e6ff7a4_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_a2d1829663335873671ccc1945e6ff7a4_cgraph">
<area shape="rect" title="Overwrites the current state of the wallet with data loaded from a file saved via the Wallet::save fu..." alt="" coords="5,23,132,65"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="180,16,333,72"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="381,5,497,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="384,56,495,83"/>
</map>
</div>

</div>
</div>
<a id="a74707315568d160c2130d74183b35c4b" name="a74707315568d160c2130d74183b35c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74707315568d160c2130d74183b35c4b">&#9670;&nbsp;</a></span>mint_new_coins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::mint_new_coins </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>output_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; <a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mints new spendable outputs. </p>
<p >Generates the specified number spendable outputs, each with the specified value, and returns a transaction with the result to submit to the transaction processing system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_outputs</td><td>number of new spendable outputs to create. </td></tr>
    <tr><td class="paramname">output_val</td><td>value of the amount to associate with each output in the base unit of the currency. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the transaction which mints the new coins. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00025">25</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00297">cbdc::transaction::validation::get_p2pk_witness_commitment()</a>, <a class="el" href="transaction_8hpp_source.html#l00097">cbdc::transaction::full_tx::m_outputs</a>, <a class="el" href="transaction_8hpp_source.html#l00054">cbdc::transaction::output::m_value</a>, and <a class="el" href="transaction_8hpp_source.html#l00051">cbdc::transaction::output::m_witness_program_commitment</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_a74707315568d160c2130d74183b35c4b_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_a74707315568d160c2130d74183b35c4b_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_a74707315568d160c2130d74183b35c4b_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_a74707315568d160c2130d74183b35c4b_cgraph">
<area shape="rect" title="Mints new spendable outputs." alt="" coords="5,23,161,65"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="209,16,363,72"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="411,5,527,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="413,56,524,83"/>
</map>
</div>

</div>
</div>
<a id="ab14dad71bfe40f9213c82e8e1d30d1cb" name="ab14dad71bfe40f9213c82e8e1d30d1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14dad71bfe40f9213c82e8e1d30d1cb">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::transaction::wallet::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>wallet_file</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the state of the wallet to a binary data file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wallet_file</td><td>path to wallet file location. </td></tr>
  </table>
  </dd>
</dl>
<p >values</p>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00307">307</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="adeee389cb2c0204200931f98855dbf5b" name="adeee389cb2c0204200931f98855dbf5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeee389cb2c0204200931f98855dbf5b">&#9670;&nbsp;</a></span>seed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::seed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecbdc.html#abdcd7322be69889171bcca4197e3e9e1">privkey_t</a> &amp;&#160;</td>
          <td class="paramname"><em>privkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>begin_seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>end_seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; bool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the wallet as having pre-seeded outputs to spend. </p>
<p >Given that the outputs are deterministic, the wallet will create them on-the-fly while spending them. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">privkey</td><td>the private key to use for the seeded outputs. </td></tr>
    <tr><td class="paramname">value</td><td>the value of each seeded output. </td></tr>
    <tr><td class="paramname">begin_seed</td><td>the start index to use for the seeded outputs. </td></tr>
    <tr><td class="paramname">end_seed</td><td>the end index to use for the seeded outputs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if setting the seed parameters succeeded. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00236">236</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00297">cbdc::transaction::validation::get_p2pk_witness_commitment()</a>, and <a class="el" href="keys_8cpp_source.html#l00012">cbdc::pubkey_from_privkey()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wallet_8cpp_source.html#l00017">wallet()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_adeee389cb2c0204200931f98855dbf5b_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_adeee389cb2c0204200931f98855dbf5b_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_adeee389cb2c0204200931f98855dbf5b_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_adeee389cb2c0204200931f98855dbf5b_cgraph">
<area shape="rect" title="Marks the wallet as having pre&#45;seeded outputs to spend." alt="" coords="5,57,132,98"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="193,16,346,72"/>
<area shape="rect" href="namespacecbdc.html#aef77ae84c0c1123602cdfad838489b50" title="Generates a public key from the specified private key." alt="" coords="180,96,359,123"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="407,5,523,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="409,56,520,83"/>
</map>
</div>

</div>
</div>
<a id="a1c3cd37aaac3c62c8f371335a46fa56e" name="a1c3cd37aaac3c62c8f371335a46fa56e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3cd37aaac3c62c8f371335a46fa56e">&#9670;&nbsp;</a></span>seed_readonly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::transaction::wallet::seed_readonly </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecbdc.html#ae259dc3000a4487dd87a2ee9662ba73e">hash_t</a> &amp;&#160;</td>
          <td class="paramname"><em>witness_commitment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>begin_seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>end_seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the wallet as having read-only pre-seeded outputs to spend. </p>
<p >This method marks the wallet as having pre-seeded outputs which can only generate unsigned transactions. It is called from <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#adeee389cb2c0204200931f98855dbf5b">seed</a>  where <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#adeee389cb2c0204200931f98855dbf5b">seed</a> also provides the wallet with the private key and makes the outputs spendable. The shard seeder to uses this read-only variant to allow for calls to <a class="el" href="classcbdc_1_1transaction_1_1wallet.html#ac20137fcd296cf677a4bc0b7d62dbaeb">create_seeded_transaction</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">witness_commitment</td><td>the witness commitment to use for the seeded outputs. </td></tr>
    <tr><td class="paramname">value</td><td>the value to use for the seeded outputs. </td></tr>
    <tr><td class="paramname">begin_seed</td><td>the start index to use for the seeded outputs. </td></tr>
    <tr><td class="paramname">end_seed</td><td>the end index to use for the seeded outputs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00260">260</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="a469f625da2c550b4742d951905d7838e" name="a469f625da2c550b4742d951905d7838e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a469f625da2c550b4742d951905d7838e">&#9670;&nbsp;</a></span>send_to() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::send_to </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>input_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>output_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;&#160;</td>
          <td class="paramname"><em>payee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sign_tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; std::optional&lt;<a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a new send transaction with the specified number of inputs and outputs. </p>
<p >This method is best-effort: it will return an empty optional if the method cannot use the specified number of inputs to create the specified number of outputs. Likewise, the method will return an empty optional if the wallet contains fewer UTXOs than the specified input count. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input_count</td><td>number of inputs to include in the Tx. Must be &gt;0. </td></tr>
    <tr><td class="paramname">output_count</td><td>number of outputs to include in the Tx. Must be &gt;0. </td></tr>
    <tr><td class="paramname">payee</td><td>destination pubkey for the Tx outputs. </td></tr>
    <tr><td class="paramname">sign_tx</td><td>true if the transaction should be signed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completed transaction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00366">366</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

</div>
</div>
<a id="a9c43b25624220a3fb7b53fed3cb25317" name="a9c43b25624220a3fb7b53fed3cb25317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c43b25624220a3fb7b53fed3cb25317">&#9670;&nbsp;</a></span>send_to() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto cbdc::transaction::wallet::send_to </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecbdc.html#a6b3c535adc4d8531c511db1f9c6aef83">pubkey_t</a> &amp;&#160;</td>
          <td class="paramname"><em>payee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sign_tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; std::optional&lt;<a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">full_tx</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a new send transaction with a set value. </p>
<p >Generates a transaction to transfer a specified amount from this wallet to a recipient's target address. Returns the transaction for wallet clients to submit to the processing system and syndicate to recipients. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amount</td><td>the amount to send in the base unit of the currency. </td></tr>
    <tr><td class="paramname">payee</td><td>the destination address of the transfer. </td></tr>
    <tr><td class="paramname">sign_tx</td><td>true if the wallet should sign this transaction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completed transaction. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcbdc_1_1transaction_1_1wallet.html#a7e3e385aa81e513f3010869375cb8942">export_send_inputs</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00046">46</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00297">cbdc::transaction::validation::get_p2pk_witness_commitment()</a>, <a class="el" href="transaction_8hpp_source.html#l00054">cbdc::transaction::output::m_value</a>, and <a class="el" href="transaction_8hpp_source.html#l00051">cbdc::transaction::output::m_witness_program_commitment</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_a9c43b25624220a3fb7b53fed3cb25317_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_a9c43b25624220a3fb7b53fed3cb25317_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_a9c43b25624220a3fb7b53fed3cb25317_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_a9c43b25624220a3fb7b53fed3cb25317_cgraph">
<area shape="rect" title="Generates a new send transaction with a set value." alt="" coords="5,23,132,65"/>
<area shape="rect" href="namespacecbdc_1_1transaction_1_1validation.html#a1f44c99a0ee81639bae8c5e0c783fd95" title=" " alt="" coords="180,16,333,72"/>
<area shape="rect" href="namespacecbdc.html#a683b1822c4294075ddecf27a8774d76e" title="Calculates the SHA256 hash of the specified data." alt="" coords="381,5,497,32"/>
<area shape="rect" href="namespacecbdc.html#a533bc462c81fe3193b0d4adb6b686064" title="Converts an std::array into an std::vector of the same size via copy." alt="" coords="384,56,495,83"/>
</map>
</div>

</div>
</div>
<a id="aa75ad269110e2b216c9e834d1dcd4da4" name="aa75ad269110e2b216c9e834d1dcd4da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75ad269110e2b216c9e834d1dcd4da4">&#9670;&nbsp;</a></span>sign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbdc::transaction::wallet::sign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcbdc_1_1transaction_1_1full__tx.html">transaction::full_tx</a> &amp;&#160;</td>
          <td class="paramname"><em>tx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signs each of the transaction's inputs using Schnorr signatures. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx</td><td>the transaction whose inputs to sign. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wallet_8cpp_source.html#l00158">158</a> of file <a class="el" href="wallet_8cpp_source.html">wallet.cpp</a>.</p>

<p class="reference">References <a class="el" href="transaction_8hpp_source.html#l00094">cbdc::transaction::full_tx::m_inputs</a>, <a class="el" href="transaction_8hpp_source.html#l00100">cbdc::transaction::full_tx::m_witness</a>, <a class="el" href="namespacecbdc_1_1transaction_1_1validation.html#acc831384037ec60d9f910d1557c62bf1a6c273932270d3597a90936b79babc832">cbdc::transaction::validation::p2pk</a>, and <a class="el" href="transaction_8cpp_source.html#l00068">cbdc::transaction::tx_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="client_2client_8cpp_source.html#l00072">cbdc::client::sign_transaction()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcbdc_1_1transaction_1_1wallet_aa75ad269110e2b216c9e834d1dcd4da4_cgraph.png" border="0" usemap="#aclasscbdc_1_1transaction_1_1wallet_aa75ad269110e2b216c9e834d1dcd4da4_cgraph" alt=""/></div>
<map name="aclasscbdc_1_1transaction_1_1wallet_aa75ad269110e2b216c9e834d1dcd4da4_cgraph" id="aclasscbdc_1_1transaction_1_1wallet_aa75ad269110e2b216c9e834d1dcd4da4_cgraph">
<area shape="rect" title="Signs each of the transaction&#39;s inputs using Schnorr signatures." alt="" coords="5,5,132,47"/>
<area shape="rect" href="namespacecbdc_1_1transaction.html#a43a4b189920471ef5363e91bc908a892" title="Calculates the unique hash of a full transaction." alt="" coords="180,5,307,47"/>
<area shape="rect" href="namespacecbdc.html#aed9c6313b2ae6e3d7f01340ab5a3076b" title="Serialize object into nuraft::buffer using a cbdc::nuraft_serializer." alt="" coords="355,13,481,39"/>
<area shape="rect" href="namespacecbdc.html#a4dd685b58c8cf66f4489ab808915ab85" title="Calculates the serialized size in bytes of the given object when serialized using serializer." alt="" coords="529,13,669,39"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="wallet_8hpp_source.html">wallet.hpp</a></li>
<li><a class="el" href="wallet_8cpp_source.html">wallet.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecbdc.html">cbdc</a></li><li class="navelem"><a class="el" href="namespacecbdc_1_1transaction.html">transaction</a></li><li class="navelem"><a class="el" href="classcbdc_1_1transaction_1_1wallet.html">wallet</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
